function t(t,e,i,n){Object.defineProperty(t,e,{get:i,set:n,enumerable:!0,configurable:!0})}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},i={},n={},r=e.parcelRequire2272;null==r&&((r=function(t){if(t in i)return i[t].exports;if(t in n){var e=n[t];delete n[t];var r={id:t,exports:{}};return i[t]=r,e.call(r.exports,r,r.exports),r.exports}var s=new Error("Cannot find module '"+t+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(t,e){n[t]=e},e.parcelRequire2272=r),r.register("27Lyk",(function(e,i){var n,r;t(e.exports,"register",(()=>n),(t=>n=t)),t(e.exports,"resolve",(()=>r),(t=>r=t));var s={};n=function(t){for(var e=Object.keys(t),i=0;i<e.length;i++)s[e[i]]=t[e[i]]},r=function(t){var e=s[t];if(null==e)throw new Error("Could not resolve bundle with id "+t);return e}})),r.register("7p81P",(function(t,e){t.exports=import("./"+r("27Lyk").resolve("i9dwj")).then((()=>r("fJuXR")))})),r("27Lyk").register(JSON.parse('{"9vqfN":"index.7a9fc5ed.js","iYQoU":"rabbitv3_ash.f9b51f87.png","azTgC":"rabbitv3_batman.f2366b28.png","77oHn":"rabbitv3_bb8.5643fc2e.png","aiZkg":"rabbitv3_neo.9dae7d26.png","i879c":"rabbitv3_sonic.47c6e256.png","doKJe":"rabbitv3_spidey.eaca10f8.png","eiicB":"rabbitv3_stormtrooper.94ae236d.png","9glI1":"rabbitv3_superman.171d1c7c.png","8szft":"rabbitv3_tron.2766ecee.png","8NJ2u":"rabbitv3_wolverine.106572e8.png","5hmO4":"rabbitv3.cc496818.png","bAFeI":"rabbitv3_frankenstein.57d299cf.png","i9dwj":"Bunny.694985c4.js"}'));var s;s=new URL(r("27Lyk").resolve("iYQoU"),import.meta.url).toString();var o;o=new URL(r("27Lyk").resolve("azTgC"),import.meta.url).toString();var a;a=new URL(r("27Lyk").resolve("77oHn"),import.meta.url).toString();var d;d=new URL(r("27Lyk").resolve("aiZkg"),import.meta.url).toString();var h;h=new URL(r("27Lyk").resolve("i879c"),import.meta.url).toString();var l;l=new URL(r("27Lyk").resolve("doKJe"),import.meta.url).toString();var u;u=new URL(r("27Lyk").resolve("eiicB"),import.meta.url).toString();var c;c=new URL(r("27Lyk").resolve("9glI1"),import.meta.url).toString();var m;m=new URL(r("27Lyk").resolve("8szft"),import.meta.url).toString();var p;p=new URL(r("27Lyk").resolve("8NJ2u"),import.meta.url).toString();var g;g=new URL(r("27Lyk").resolve("5hmO4"),import.meta.url).toString();var b;b=new URL(r("27Lyk").resolve("bAFeI"),import.meta.url).toString();var f=[new URL(s).href,new URL(o).href,new URL(a).href,new URL(d).href,new URL(h).href,new URL(l).href,new URL(u).href,new URL(c).href,new URL(m).href,new URL(p).href,new URL(g).href,new URL(b).href];var v=class{constructor(t){this.bunnies=[],this.domElement=$(t),this.bounds={left:0,top:0,right:0,bottom:0},this.isAdding=!1,this.count=0,this.maxCount=2e5,this.amount=100,this.renderer=null,this.stage=null,this.stats=null,this.textures=null,this.counter=null}ready(t){if(void 0===t&&(t=1e5),this.domElement.removeClass("hidden"),"undefined"==typeof PIXI)throw this.domElement.addClass("error"),new Error("PIXI is required to run");const e=$("#stage"),i=e.get(0);this.bounds.right=e.width(),this.bounds.bottom=e.height();const n={backgroundColor:16777215,view:i};$("input[type=checkbox]").each((()=>{n[this.value]=this.checked})),$("select[name=powerPreference]").each((()=>{n.powerPreference=this.value})),Object.assign(n,{width:this.bounds.right,height:this.bounds.bottom});try{this.renderer=PIXI.autoDetectRenderer(n)}catch(t){return void alert(t.message)}if(PIXI.CanvasRenderer&&this.renderer instanceof PIXI.CanvasRenderer&&(this.amount=5,this.renderer.context.mozImageSmoothingEnabled=!1,this.renderer.context.webkitImageSmoothingEnabled=!1),this.stage=new PIXI.Container,this.stats=new Stats,this.stats.domElement.id="stats",this.domElement.append(this.stats.domElement),this.textures=f.map((t=>PIXI.Texture.from(t))),this.renderer.gl){const{gl:t}=this.renderer;this.textures.length=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),this.textures.length)}this.counter=$("#counter"),this.counter.html(`${this.count} BUNNIES`),t>0&&this.addBunnies(t);const r=$(i),s=$(document),o=this.startAdding.bind(this),a=this.stopAdding.bind(this);r.on("mousedown touchstart",o),r.on("mouseup touchend",a),s.on("touchstart",o),s.on("touchend",a),$(window).on("resize orientationchange",this.resize.bind(this)),this.resize(),this.startUpdate()}addBunnies(t){r("7p81P").then((({default:e})=>{for(let i=0;i<t;i++){const t=new e(this.textures[this.count%this.textures.length],this.bounds);t.position.x=this.count%2*800,this.bunnies.push(t),this.stage.addChild(t),this.count++}this.counter.html(`${this.count} BUNNIES`)}))}startAdding(){this.isAdding=!0}stopAdding(){this.isAdding=!1}startUpdate(){requestAnimationFrame((()=>this.update()))}resize(){const t=this.domElement.width(),e=this.domElement.height();this.bounds.right=t,this.bounds.bottom=e,this.renderer.resize(t,e)}reset(){this.stage.removeChildren(),this.count=0;for(let t=this.bunnies.length-1;t>=0;t--){this.bunnies[t].destroy()}this.bunnies.length=0}update(){this.stats.begin(),this.isAdding&&this.count<this.maxCount&&this.addBunnies(this.amount);for(let t=0;t<this.bunnies.length;t++)this.bunnies[t].update();this.renderer.render(this.stage),this.startUpdate(),this.stats.end()}};var w=class{constructor(t){this.domElement=$(t),this.select=()=>null,this.ticker=null,this.timeout=null,this.cdnTemplate="//pixijs.download/${tag}/pixi-legacy.min.js",this.cdnTemplate4="//pixijs.download/${tag}/pixi.min.js",this.initCount=$("#startBunnyCount")}init(){this.domElement.removeClass("hidden");const t=this;$("#browseFile :file").change((()=>{if(!window.FileReader)return void alert("Your browser is not supported");const e=new FileReader;if(this.files.length){const i=this.files[0];e.readAsText(i),$(e).on("load",(e=>{const i=e.target.result;if(i&&i.length){const e=$("<script><\/script>");e.html(i),t.addScript(e)}}))}else alert("Please upload a file before continuing")}));const e=this.domElement.find("#goButton"),i=this.domElement.find("#branch"),n=this.start.bind(this);e.on("click",(t=>{t.preventDefault();const e=i.val();e&&n(e)}))}start(t){const e=$("<script><\/script>"),i=(0===t.indexOf("v4")?this.cdnTemplate4:this.cdnTemplate).replace("${tag}",t);e.prop("src",i),this.addScript(e)}addScript(t){t.get(0).onerror=()=>console.error("Script loading error"),this.domElement.append(t),this.domElement.addClass("loading"),this.ticker=setInterval((()=>this.update()),15),this.timeout=setTimeout((()=>this.stop()),1e4)}update(){"undefined"!=typeof PIXI&&this.stop()}stop(){this.domElement.addClass("hidden"),clearInterval(this.ticker),clearTimeout(this.timeout),this.timeout=null,this.ticker=null,this.select(parseInt(this.initCount.val(),10))}};const R=new v("#frame");if("undefined"==typeof PIXI){const t=new w("#chooser");t.select=()=>R.ready(),t.init()}else R.ready();
//# sourceMappingURL=index.7a9fc5ed.js.map
